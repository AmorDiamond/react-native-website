/*! For license information please see 63c8cbb7.52d9c241.js.LICENSE.txt */
"use strict";(self.webpackChunkreact_native_website=self.webpackChunkreact_native_website||[]).push([[46147],{38385:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>g,frontMatter:()=>l,metadata:()=>u,toc:()=>h});var r=n(24246),a=n(71670),o=n(48375),i=n(86386),s=n(11674);const l={id:"other-debugging-methods",title:"Other Debugging Methods"},c=void 0,u={id:"other-debugging-methods",title:"Other Debugging Methods",description:"This page covers other JavaScript debugging methods besides what is described in Opening the Debugger. If you are using a newly created React Native or Expo app, we recommend starting there.",source:"@site/versioned_docs/version-0.73/other-debugging-methods.md",sourceDirName:".",slug:"/other-debugging-methods",permalink:"/docs/other-debugging-methods",draft:!1,unlisted:!1,editUrl:"https://github.com/reactnativecn/react-native-website/blob/production/cnwebsite/../cndocs/other-debugging-methods.md",tags:[],version:"0.73",frontMatter:{id:"other-debugging-methods",title:"Other Debugging Methods"},sidebar:"docs",previous:{title:"Debugging Release Builds",permalink:"/docs/debugging-release-builds"},next:{title:"Testing",permalink:"/docs/testing-overview"}},d={},h=[{value:"Safari Developer Tools (direct JSC debugging)",id:"safari-developer-tools-direct-jsc-debugging",level:2},{value:"Remote JavaScript Debugging (deprecated)",id:"remote-javascript-debugging-deprecated",level:2},{value:"Setup",id:"setup",level:3},{value:"Debugging on a physical device",id:"debugging-on-a-physical-device",level:3}];function p(e){const t=Object.assign({p:"p",a:"a",h2:"h2",ol:"ol",li:"li",strong:"strong",img:"img",admonition:"admonition",h3:"h3",code:"code",pre:"pre",ul:"ul"},(0,a.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:["This page covers other JavaScript debugging methods besides what is described in ",(0,r.jsx)(t.a,{href:"./debugging#opening-the-debugger",children:"Opening the Debugger"}),". If you are using a newly created React Native or Expo app, we recommend starting there."]}),"\n",(0,r.jsx)(t.h2,{id:"safari-developer-tools-direct-jsc-debugging",children:"Safari Developer Tools (direct JSC debugging)"}),"\n",(0,r.jsxs)(t.p,{children:["You can use Safari to debug the iOS version of your app when using ",(0,r.jsx)(t.a,{href:"https://trac.webkit.org/wiki/JavaScriptCore",children:"JavaScriptCore"})," (JSC) as your app's runtime."]}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Physical devices only"}),': Open the Settings app, and navigate to Safari > Advanced, and make sure "Web Inspector" is turned on.']}),"\n",(0,r.jsx)(t.li,{children:'On your Mac, open Safari and enable the Develop menu. This can be found under Safari > Settings..., then the Advanced tab, then selecting "Show features for web developers".'}),"\n",(0,r.jsx)(t.li,{children:'Find your device under the Develop menu, and select the "JSContext" item from the submenu. This will open Safari\'s Web Inspector, which includes Console and Sources panels similar to Chrome DevTools.'}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Opening Safari Web Inspector",src:n(26434).Z+"",width:"1600",height:"730"})}),"\n",(0,r.jsx)(t.admonition,{type:"tip",children:(0,r.jsxs)(t.p,{children:["While source maps may not be enabled by default, you can follow ",(0,r.jsx)(t.a,{href:"https://blog.nparashuram.com/2019/10/debugging-react-native-ios-apps-with.html",children:"this guide"})," or ",(0,r.jsx)(t.a,{href:"https://www.youtube.com/watch?v=GrGqIIz51k4",children:"video"})," to enable them and set break points at the right places in the source code."]})}),"\n",(0,r.jsx)(t.admonition,{type:"tip",children:(0,r.jsx)(t.p,{children:'Every time the app is reloaded, a new JSContext is created. Choosing "Automatically Show Web Inspectors for JSContexts" saves you from having to select the latest JSContext manually.'})}),"\n",(0,r.jsx)(t.h2,{id:"remote-javascript-debugging-deprecated",children:"Remote JavaScript Debugging (deprecated)"}),"\n",(0,r.jsx)(t.admonition,{type:"warning",children:(0,r.jsx)(t.p,{children:"Remote JavaScript Debugging is deprecated in React Native 0.73 and will be removed in a future release."})}),"\n",(0,r.jsx)(t.p,{children:"Remote JavaScript Debugging connects an external web browser (Chrome) to your app and runs your JavaScript code inside a web page. This allows you to use Chrome's debugger as you would with any web app. Note that the browser environment can be very different, and not all React Native modules will work when debugging this way."}),"\n",(0,r.jsx)(t.h3,{id:"setup",children:"Setup"}),"\n",(0,r.jsxs)(t.p,{children:["Since React Native 0.73, Remote JavaScript Debugging must be ",(0,r.jsx)(t.strong,{children:"manually enabled"})," using the ",(0,r.jsx)(t.code,{children:"NativeDevSettings"})," module."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-js",children:"import NativeDevSettings from 'react-native/Libraries/NativeModules/specs/NativeDevSettings';\n\nfunction MyApp() {\n  // Assign this to a dev-only button or useEffect call\n  const connectToRemoteDebugger = () => {\n    NativeDevSettings.setIsDebuggingRemotely(true);\n  };\n}\n"})}),"\n",(0,r.jsxs)(t.p,{children:["When ",(0,r.jsx)(t.code,{children:"NativeDevSettings.setIsDebuggingRemotely(true)"})," is invoked, this will open a new tab at ",(0,r.jsx)(t.a,{href:"http://localhost:8081/debugger-ui",children:"http://localhost:8081/debugger-ui"}),"."]}),"\n",(0,r.jsx)(t.p,{children:"From this page, open Chrome DevTools via:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"View > Developer > Developer Tools"}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)("kbd",{children:"\u2325 Option"})," + ",(0,r.jsx)("kbd",{children:"Cmd \u2318"})," + ",(0,r.jsx)("kbd",{children:"I"})," (macOS) / ",(0,r.jsx)("kbd",{children:"Ctrl"})," + ",(0,r.jsx)("kbd",{children:"Shift"})," + ",(0,r.jsx)("kbd",{children:"I"})," (Windows and Linux)."]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"The Console and Sources panels will allow you to inspect your React Native code."}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"The remote debugger window in Chrome",src:n(23311).Z+"",width:"1600",height:"680"})}),"\n",(0,r.jsx)(t.admonition,{type:"info",children:(0,r.jsxs)(t.p,{children:["Under Remote JavaScript Debugging, the web version of React DevTools in Chrome will not work with React Native. See the ",(0,r.jsx)(t.a,{href:"./react-devtools",children:"React DevTools"})," guide to learn how to use the standalone version of React DevTools."]})}),"\n",(0,r.jsx)(t.admonition,{type:"note",children:(0,r.jsxs)(t.p,{children:["On Android, if the times between the debugger and device have drifted, things such as animations and event behavior might not work properly. This can be fixed by running ",(0,r.jsx)(t.code,{children:'adb shell "date `date +%m%d%H%M%Y.%S%3N`"'}),". Root access is required if using a physical device."]})}),"\n",(0,r.jsx)(t.h3,{id:"debugging-on-a-physical-device",children:"Debugging on a physical device"}),"\n",(0,r.jsx)(t.admonition,{type:"info",children:(0,r.jsx)(t.p,{children:"If you're using Expo CLI, this is configured for you already."})}),"\n",(0,r.jsxs)(o.Z,{groupId:"platform",defaultValue:s.Z.defaultPlatform,values:s.Z.platforms,className:"pill-tabs",children:[(0,r.jsx)(i.Z,{value:"ios",children:(0,r.jsxs)(t.p,{children:["On iOS devices, open the file ",(0,r.jsx)(t.a,{href:"https://github.com/facebook/react-native/blob/master/packages/react-native/React/CoreModules/RCTWebSocketExecutor.mm",children:(0,r.jsx)(t.code,{children:"RCTWebSocketExecutor.mm"})}),' and change "localhost" to the IP address of your computer.']})}),(0,r.jsxs)(i.Z,{value:"android",children:[(0,r.jsxs)(t.p,{children:["On Android 5.0+ devices connected via USB, you can use the ",(0,r.jsxs)(t.a,{href:"http://developer.android.com/tools/help/adb.html",children:[(0,r.jsx)(t.code,{children:"adb"})," command line tool"]})," to set up port forwarding from the device to your computer:"]}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-sh",children:"adb reverse tcp:8081 tcp:8081\n"})})]})]}),"\n",(0,r.jsx)(t.admonition,{type:"note",children:(0,r.jsx)(t.p,{children:"If you run into any issues, it may be possible that one of your Chrome extensions is interacting in unexpected ways with the debugger. Try disabling all of your extensions and re-enabling them one-by-one until you find the problematic extension."})})]})}const g=function(e={}){const{wrapper:t}=Object.assign({},(0,a.ah)(),e.components);return t?(0,r.jsx)(t,Object.assign({},e,{children:(0,r.jsx)(p,e)})):p(e)}},11674:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(63445);const a=!!r.Z.canUseDOM&&navigator.platform.startsWith("Mac"),o=!!r.Z.canUseDOM&&navigator.platform.startsWith("Win"),i={defaultGuide:"native",defaultOs:a?"macos":o?"windows":"linux",defaultPackageManager:"npm",defaultPlatform:a?"ios":"android",defaultSyntax:"functional",getDevNotesTabs:(e=["android","ios","web","windows"])=>[e.includes("android")?{label:"Android",value:"android"}:void 0,e.includes("ios")?{label:"iOS",value:"ios"}:void 0,e.includes("web")?{label:"Web",value:"web"}:void 0,e.includes("windows")?{label:"Windows",value:"windows"}:void 0].filter(Boolean),guides:[{label:"\u5b8c\u6574\u539f\u751f\u73af\u5883",value:"native"},{label:"\u7b80\u6613\u6c99\u76d2\u73af\u5883",value:"quickstart"}],oses:[{label:"macOS",value:"macos"},{label:"Windows",value:"windows"},{label:"Linux",value:"linux"}],packageManagers:[{label:"npm",value:"npm"},{label:"Yarn",value:"yarn"}],platforms:[{label:"Android",value:"android"},{label:"iOS",value:"ios"}],syntax:[{label:"\u51fd\u6570\u5f0f\u7ec4\u4ef6",value:"functional"},{label:"Class \u7ec4\u4ef6",value:"classical"}]}},86386:(e,t,n)=>{n.d(t,{Z:()=>h});var r=n(27378),a=n(38944);const o={tabItem:"tabItem_wHwb"};var i=Object.defineProperty,s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&u(e,n,t[n]);if(s)for(var n of s(t))c.call(t,n)&&u(e,n,t[n]);return e};function h({children:e,hidden:t,className:n}){return r.createElement("div",d({role:"tabpanel",className:(0,a.Z)(o.tabItem,n)},{hidden:t}),e)}},48375:(e,t,n)=>{n.d(t,{Z:()=>A});var r=n(27378),a=n(38944),o=n(12112),i=n(3620),s=n(69490),l=n(14953),c=n(27886),u=n(7106),d=Object.defineProperty,h=Object.defineProperties,p=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f=(e,t)=>{for(var n in t||(t={}))b.call(t,n)&&m(e,n,t[n]);if(g)for(var n of g(t))v.call(t,n)&&m(e,n,t[n]);return e},y=(e,t)=>h(e,p(t));function w(e){var t,n;return null!=(n=null==(t=r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})))?void 0:t.filter(Boolean))?n:[]}function x(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=null!=t?t:function(e){return w(e).map((({props:{value:e,label:t,attributes:n,default:r}})=>({value:e,label:t,attributes:n,default:r})))}(n);return function(e){const t=(0,c.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function j({value:e,tabValues:t}){return t.some((t=>t.value===e))}function S({queryString:e=!1,groupId:t}){const n=(0,i.k6)(),a=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=t?t:null}({queryString:e,groupId:t});return[(0,l._X)(a),(0,r.useCallback)((e=>{if(!a)return;const t=new URLSearchParams(n.location.search);t.set(a,e),n.replace(y(f({},n.location),{search:t.toString()}))}),[a,n])]}function O(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,o=x(e),[i,l]=(0,r.useState)((()=>function({defaultValue:e,tabValues:t}){var n;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!j({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const r=null!=(n=t.find((e=>e.default)))?n:t[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:o}))),[c,d]=S({queryString:n,groupId:a}),[h,p]=function({groupId:e}){const t=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,a]=(0,u.Nk)(t);return[n,(0,r.useCallback)((e=>{t&&a.set(e)}),[t,a])]}({groupId:a}),g=(()=>{const e=null!=c?c:h;return j({value:e,tabValues:o})?e:null})();(0,s.Z)((()=>{g&&l(g)}),[g]);return{selectedValue:i,selectValue:(0,r.useCallback)((e=>{if(!j({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),p(e)}),[d,p,o]),tabValues:o}}var k=n(14185);const D={tabList:"tabList_J5MA",tabItem:"tabItem_l0OV"};var I=Object.defineProperty,T=Object.defineProperties,C=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,_=(e,t,n)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,P=(e,t)=>{for(var n in t||(t={}))N.call(t,n)&&_(e,n,t[n]);if(E)for(var n of E(t))R.call(t,n)&&_(e,n,t[n]);return e},V=(e,t)=>T(e,C(t));function Z({className:e,block:t,selectedValue:n,selectValue:i,tabValues:s}){const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,o.o5)(),u=e=>{const t=e.currentTarget,r=l.indexOf(t),a=s[r].value;a!==n&&(c(t),i(a))},d=e=>{var t,n;let r=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const n=l.indexOf(e.currentTarget)+1;r=null!=(t=l[n])?t:l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;r=null!=(n=l[t])?n:l[l.length-1];break}}null==r||r.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.Z)("tabs",{"tabs--block":t},e)},s.map((({value:e,label:t,attributes:o})=>r.createElement("li",V(P({role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,key:e,ref:e=>l.push(e),onKeyDown:d,onClick:u},o),{className:(0,a.Z)("tabs__item",D.tabItem,null==o?void 0:o.className,{"tabs__item--active":n===e})}),null!=t?t:e))))}function J({lazy:e,children:t,selectedValue:n}){const a=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const e=a.find((e=>e.props.value===n));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},a.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==n}))))}function M(e){const t=O(e);return r.createElement("div",{className:(0,a.Z)("tabs-container",D.tabList)},r.createElement(Z,P(P({},e),t)),r.createElement(J,P(P({},e),t)))}function A(e){const t=(0,k.Z)();return r.createElement(M,P({key:String(t)},e),w(e.children))}},71426:(e,t,n)=>{var r=n(27378),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},24246:(e,t,n)=>{e.exports=n(71426)},23311:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/debugging-chrome-remote-debugger-09207af31fea81d1d97a81a0d96774ba.jpg"},26434:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/debugging-safari-developer-tools-a67219e1ea0f852bbb150c988b00c3cf.jpg"},71670:(e,t,n)=>{n.d(t,{Zo:()=>s,ah:()=>o});var r=n(27378);const a=r.createContext({});function o(e){const t=r.useContext(a);return r.useMemo((()=>"function"==typeof e?e(t):{...t,...e}),[t,e])}const i={};function s({components:e,children:t,disableParentContext:n}){let s;return s=n?"function"==typeof e?e({}):e||i:o(e),r.createElement(a.Provider,{value:s},t)}}}]);