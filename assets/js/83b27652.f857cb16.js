"use strict";(self.webpackChunkreact_native_website=self.webpackChunkreact_native_website||[]).push([[83470],{35318:function(e,t,r){r.d(t,{Zo:function(){return u},kt:function(){return m}});var a=r(27378);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=a.createContext({}),p=function(e){var t=a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},u=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),h=p(r),m=n,d=h["".concat(l,".").concat(m)]||h[m]||s[m]||o;return r?a.createElement(d,i(i({ref:t},u),{},{components:r})):a.createElement(d,i({ref:t},u))}));function m(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,i=new Array(o);i[0]=h;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:n,i[1]=c;for(var p=2;p<o;p++)i[p]=r[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,r)}h.displayName="MDXCreateElement"},38286:function(e,t,r){r.d(t,{ZP:function(){return m}});var a=r(35318),n=Object.defineProperty,o=Object.defineProperties,i=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,s=(e,t)=>{for(var r in t||(t={}))l.call(t,r)&&u(e,r,t[r]);if(c)for(var r of c(t))p.call(t,r)&&u(e,r,t[r]);return e};const h={toc:[]};function m(e){var t,r=e,{components:n}=r,u=((e,t)=>{var r={};for(var a in e)l.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&c)for(var a of c(e))t.indexOf(a)<0&&p.call(e,a)&&(r[a]=e[a]);return r})(r,["components"]);return(0,a.kt)("wrapper",(t=s(s({},h),u),o(t,i({components:n,mdxType:"MDXLayout"}))),(0,a.kt)("admonition",s({},{type:"caution"}),(0,a.kt)("p",{parentName:"admonition"},"This documentation is still ",(0,a.kt)("strong",{parentName:"p"},"experimental")," and details are subject to changes as we iterate. Feel free to share your feedback on the ",(0,a.kt)("a",s({parentName:"p"},{href:"https://github.com/reactwg/react-native-new-architecture/discussions/8"}),"discussion inside the working group")," for this page."),(0,a.kt)("p",{parentName:"admonition"},"Moreover, it contains several ",(0,a.kt)("strong",{parentName:"p"},"manual steps"),". Please note that this won't be representative of the final developer experience once the New Architecture is stable. We're working on tools, templates and libraries to help you get started fast on the New Architecture, without having to go through the whole setup.")))}m.isMDXComponent=!0},12907:function(e,t,r){r.r(t),r.d(t,{assets:function(){return f},contentTitle:function(){return d},default:function(){return g},frontMatter:function(){return m},metadata:function(){return b},toc:function(){return y}});var a=r(35318),n=r(38286),o=Object.defineProperty,i=Object.defineProperties,c=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h=(e,t)=>{for(var r in t||(t={}))p.call(t,r)&&s(e,r,t[r]);if(l)for(var r of l(t))u.call(t,r)&&s(e,r,t[r]);return e};const m={id:"backward-compatibility",title:"What Backward Compatibility Is"},d=void 0,b={unversionedId:"the-new-architecture/backward-compatibility",id:"the-new-architecture/backward-compatibility",title:"What Backward Compatibility Is",description:"Creating a backward compatible module is important to provide a library that works in both the Old Architecture and the New Architecture. Not all the users of your library will immediately jump on the New Architecture ship: it is a good thing that they will be able to use your library even if they are still using the old architecture.",source:"@site/../cndocs/the-new-architecture/backward-compatibility.md",sourceDirName:"the-new-architecture",slug:"/the-new-architecture/backward-compatibility",permalink:"/docs/next/the-new-architecture/backward-compatibility",draft:!1,editUrl:"https://github.com/facebook/react-native-website/blob/master/website/../cndocs/the-new-architecture/backward-compatibility.md",tags:[],version:"current",frontMatter:{id:"backward-compatibility",title:"What Backward Compatibility Is"},sidebar:"docs",previous:{title:"Codegen",permalink:"/docs/next/the-new-architecture/pillars-codegen"},next:{title:"TurboModules as Native Modules",permalink:"/docs/next/the-new-architecture/backward-compatibility-turbomodules"}},f={},y=[],w={toc:y};function g(e){var t,r=e,{components:o}=r,s=((e,t)=>{var r={};for(var a in e)p.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&l)for(var a of l(e))t.indexOf(a)<0&&u.call(e,a)&&(r[a]=e[a]);return r})(r,["components"]);return(0,a.kt)("wrapper",(t=h(h({},w),s),i(t,c({components:o,mdxType:"MDXLayout"}))),(0,a.kt)(n.ZP,{mdxType:"NewArchitectureWarning"}),(0,a.kt)("p",null,"Creating a backward compatible module is important to provide a library that works in both the ",(0,a.kt)("strong",{parentName:"p"},"Old Architecture")," and the ",(0,a.kt)("strong",{parentName:"p"},"New Architecture"),". Not all the users of your library will immediately jump on the New Architecture ship: it is a good thing that they will be able to use your library even if they are still using the old architecture."),(0,a.kt)("p",null,"The trick to create a good backward compatible module is to minimize the changes required to adopt the new version. In that way, users of the module can smoothly move to the new version and migrate to the New Architecture when they are ready, ideally by issueing one different command."),(0,a.kt)("p",null,"To achieve this result, we have to perform few changes in our ",(0,a.kt)("strong",{parentName:"p"},"TurboModule")," and ",(0,a.kt)("strong",{parentName:"p"},"Fabric Component")," configurations. The steps we have to follow are:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Update the installation configuration")," to avoid using code that is not needed by the Old Architecture."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Update the code")," to support both architectures. Both Android and iOS build pipelines gives you mechanism to provide a library that will compile with the correct React Native Architecture."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("strong",{parentName:"li"},"Configure the specs to load the proper implementation"),", so that the JavaScript layer leverages the New Architecture whan it is available.")),(0,a.kt)("admonition",h({},{type:"info"}),(0,a.kt)("p",{parentName:"admonition"},"The next sections requires that you are familiar with the ",(0,a.kt)("a",h({parentName:"p"},{href:"pillars"}),"Pillars")," of the ",(0,a.kt)("strong",{parentName:"p"},"New Architecture"),".")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"To create a backward compatible ",(0,a.kt)("strong",{parentName:"li"},"TurboModule"),", follow ",(0,a.kt)("a",h({parentName:"li"},{href:"backward-compatibility-turbomodules"}),"this guide"),"."),(0,a.kt)("li",{parentName:"ul"},"To create a backward compatible ",(0,a.kt)("strong",{parentName:"li"},"Fabric Component"),", follow ",(0,a.kt)("a",h({parentName:"li"},{href:"backward-compatibility-fabric-components"}),"this guide"),".")))}g.isMDXComponent=!0}}]);