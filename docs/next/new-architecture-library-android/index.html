<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="search" type="application/opensearchdescription+xml" title="React Native 中文网" href="/opensearch.xml">
<script src="//snack.expo.dev/embed.js" defer="defer"></script>
<script src="//cdn.wwads.cn/js/makemoney.js" defer="defer"></script><title data-react-helmet="true">Enabling in Android Library · React Native 中文网</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="twitter:image" content="https://reactnative.cn/img/logo-og.png"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:url" content="https://reactnative.cn"><meta data-react-helmet="true" property="og:image" content="img/logo-og.png"><meta data-react-helmet="true" property="og:title" content="Enabling in Android Library · React Native 中文网"><meta data-react-helmet="true" name="description" content="Once you have defined the JavaScript specs for your native modules as part of the prerequisites and followed the Android/Gradle setup, you are now ready to migrate your library to the new architecture. Here are the steps you can follow to accomplish this."><meta data-react-helmet="true" property="og:description" content="Once you have defined the JavaScript specs for your native modules as part of the prerequisites and followed the Android/Gradle setup, you are now ready to migrate your library to the new architecture. Here are the steps you can follow to accomplish this."><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://reactnative.cn/docs/next/new-architecture-library-android"><link data-react-helmet="true" rel="alternate" href="https://reactnative.cn/docs/next/new-architecture-library-android" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://reactnative.cn/docs/next/new-architecture-library-android" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.cbfb91cb.css">
<link rel="preload" href="/assets/js/runtime~main.74683e8c.js" as="script">
<link rel="preload" href="/assets/js/main.5540c489.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_3wvD">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/header_logo.svg" alt="React Native 中文网" class="themedImage_Ir0T themedImage--light_2_E0"><img src="/img/header_logo.svg" alt="React Native 中文网" class="themedImage_Ir0T themedImage--dark_2JiM"></div><b class="navbar__title">React Native 中文网</b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" href="/docs/next/getting-started">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/next/new-architecture-library-android">Next</a></li><li><a class="dropdown__link" href="/docs/new-architecture-library-android">0.67</a></li><li><a class="dropdown__link" href="/docs/0.66/getting-started">0.66</a></li><li><a class="dropdown__link" href="/docs/0.65/getting-started">0.65</a></li><li><a class="dropdown__link" href="/docs/0.64/getting-started">0.64</a></li><li><a class="dropdown__link" href="/docs/0.63/getting-started">0.63</a></li><li><a class="dropdown__link" href="/versions">所有版本</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/next/getting-started">文档</a><a class="navbar__item navbar__link" href="/docs/next/components-and-apis">组件</a><a class="navbar__item navbar__link" href="/docs/next/accessibilityinfo">API</a><a class="navbar__item navbar__link" href="/docs/next/architecture-overview">架构</a><a href="//time.geekbang.org/column/intro/100110101?code=FAqHFVRUur%2FgAP-yJQWitk9ieF80imRky3PVsIs%2FX6A%3D" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link hot-link"><span>实战课<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_pqex"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="//github.com/reactnativecn/react-native-website/issues" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>讨论<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_pqex"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="//pushy.reactnative.cn" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link hot-link"><span>热更新<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_pqex"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a class="navbar__item navbar__link" href="/about">关于</a><a href="//github.com/facebook/react-native" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-github-link" aria-label="GitHub repository"></a><div class="toggle_2wFP toggle_2vag toggleDisabled_1jUP"><div class="toggleTrack_OYnE" role="button" tabindex="-1"><div class="toggleTrackCheck_3aVv"><span class="toggleIcon_1mQT">🌜</span></div><div class="toggleTrackX_oB48"><span class="toggleIcon_1mQT">🌞</span></div><div class="toggleTrackThumb_3qal"></div></div><input type="checkbox" class="toggleScreenReader_bg_d" aria-label="Switch between dark and light mode"></div><div class="searchBox_WYtD"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_3jyA"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_2PbN" type="button"></button><main class="docMainContainer_28SP docMainContainerEnhanced_YA74"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_2rXS"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->React Native 中文网<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/new-architecture-library-android">latest version</a></b> (<!-- -->0.67<!-- -->).</div></div><div class="docItemContainer_1EXp"><article><div><span class="badge badge--secondary">版本: <!-- -->Next</span></div><a href="https://time.geekbang.org/column/intro/100110101?code=FAqHFVRUur%2FgAP-yJQWitk9ieF80imRky3PVsIs%2FX6A%3D" target="_blank" style="display:block;padding:12px;background-color:#eee;color:#666;margin-bottom:15px"><span style="font-weight:bold;color:#05a5d1">新架构实战课</span> <!-- -->实操 + 基建 + 原理全维度包揽，抢先掌握 React Native 新架构精髓<!-- --> <span style="border:solid 1px #666;padding:4px 6px;margin-left:8px;vertical-align:middle">立即查看 &gt;</span></a><div class="markdown"><header><h1>Enabling in Android Library</h1></header><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>This documentation is still <strong>experimental</strong> and details are subject to changes as we iterate. Feel free to share your feedback on the <a href="https://github.com/reactwg/react-native-new-architecture/discussions/8" target="_blank" rel="noopener noreferrer">discussion inside the working group</a> for this page.</p><p>Moreover, it contains several <strong>manual steps</strong>. Please note that this won&#x27;t be representative of the final developer experience once the New Architecture is stable. We&#x27;re working on tools, templates and libraries to help you get started fast on the New Architecture, without having to go through the whole setup.</p></div></div><p>Once you have defined the JavaScript specs for your native modules as part of the <a href="/docs/next/new-architecture-library-intro">prerequisites</a> and followed the Android/Gradle setup, you are now ready to migrate your library to the new architecture. Here are the steps you can follow to accomplish this.</p><h3 class="anchor anchorWithStickyNavbar_23Bc" id="1-configure-codegen-in-your-gradle-file">1. Configure Codegen in your Gradle File<a class="hash-link" href="#1-configure-codegen-in-your-gradle-file" title="Direct link to heading">​</a></h3><p>You can now configure Codegen by specifying the following in the module-level <code>build.gradle</code> file:</p><div class="codeBlockContainer_1ukp language-groovy theme-code-block"><div class="codeBlockContent_3Y8q groovy"><pre tabindex="0" class="prism-code language-groovy codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">react {</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    libraryName = &quot;samplelibrary&quot;</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    codegenJavaPackageName = &quot;com.example.samplelibrary&quot;</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    root = rootProject.file(&quot;..&quot;)</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    jsRootDir = rootProject.file(&quot;../js/&quot;)</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    reactNativeDir = rootProject.file(&quot;../node_modules/react-native/&quot;)</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    codegenDir = rootProject.file(&quot;../node_modules/react-native-codegen/&quot;)</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Please note that this setup requires you to have the React Gradle Plugin configured in the prerequisite step).</p></div></div><p>All the arguments are <strong>optional</strong> and provide <strong>default values</strong>, you might want to customize them to follow your setup.</p><ul><li><code>libraryName</code>: A string that identifies your library. By default, the codegen will use a library name that is derived from the name of the module with a <code>Spec</code> suffix. E.g. for <code>:example:project</code> it will be <code>ExampleProjectSpec</code>.</li><li><code>codegenJavaPackageName</code>: A string that represents the Java package your code should use. By default this will be <code>com.facebook.fbreact.specs</code> but you might want to customize it.</li><li><code>root</code>: Reference to the root of your project. By default is <code>..</code> as Gradle is running inside the <code>./android</code> folder.</li><li><code>reactNativeDir</code>: Reference to the <code>react-native</code> package root. Usually located inside <code>../node_modules/react-native</code>. For third-party NPM libraries that are installed in <code>node_modules</code>, this will be <code>../react-native</code>.</li><li><code>jsRootDir</code>: Reference to the directory that contains the JavaScript specs for this library. By default is <code>../js/</code>.</li><li><code>codegenDir</code>: Reference to the <code>react-native-codegen</code> root. Usually located inside <code>../node_modules/react-native-codegen</code>.</li></ul><p>The generator will write its output inside the <strong>build folder</strong>, specifically inside the <code>./build/generated/source/codegen</code> folder.</p><h2 class="anchor anchorWithStickyNavbar_23Bc" id="2-extend-or-implement-the-code-generated-native-interfaces">2. Extend or implement the code-generated native interfaces<a class="hash-link" href="#2-extend-or-implement-the-code-generated-native-interfaces" title="Direct link to heading">​</a></h2><p>The JavaScript spec for your native module or component will be used to generate native interface code for each supported platform (i.e. Android and iOS). These native interface files will be generated <strong>when a React Native application that depends on your library is built</strong>.</p><p>While this generated native interface code <strong>will not ship as part of your library</strong>, you do need to make sure your Java/Kotlin code conforms to the protocols provided by these native interface files.</p><p>You can invoke the <code>generateCodegenArtifactsFromSchema</code> Gradle task to generate your library’s native interface code in order to use them <strong>as a reference:</strong></p><div class="codeBlockContainer_1ukp language-bash theme-code-block"><div class="codeBlockContent_3Y8q bash"><pre tabindex="0" class="prism-code language-bash codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">./gradlew generateCodegenArtifactsFromSchema</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>The files that are output can be found inside <code>build/generated/source/codegen</code> and <strong>should not be committed</strong>, but you’ll need to refer to them to determine what changes you need to make to your native modules in order for them to provide an implementation for each generated interface.</p><p>The output of the codegen for a module called <code>NativeAwesomeManager</code> will look like this:</p><div class="codeBlockContainer_1ukp theme-code-block"><div class="codeBlockContent_3Y8q jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">app</span><span class="token operator" style="color:#fc929e">/</span><span class="token plain">build</span><span class="token operator" style="color:#fc929e">/</span><span class="token plain">generated</span><span class="token operator" style="color:#fc929e">/</span><span class="token plain">source</span><span class="token operator" style="color:#fc929e">/</span><span class="token plain">codegen</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">├── java</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">│   └── com</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">│       └── example</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">│           └── samplelibrary</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">│               └── NativeAwesomeManagerSpec</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">java</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">├── jni</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">│   ├── Android</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">mk</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">│   ├── react</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">│   │   └── renderer</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">│   │       └── components</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">│   │           └── samplelibrary</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">│   │               ├── ComponentDescriptors</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">h</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">│   │               ├── EventEmitters</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">cpp</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">│   │               ├── EventEmitters</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">h</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">│   │               ├── Props</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">cpp</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">│   │               ├── Props</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">h</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">│   │               ├── ShadowNodes</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">cpp</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">│   │               └── ShadowNodes</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">h</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">│   ├── samplelibrary</span><span class="token operator" style="color:#fc929e">-</span><span class="token plain">generated</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">cpp</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">│   └── samplelibrary</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">h</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">└── schema</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">json</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_23Bc" id="extends-the-abstract-class-provided-by-the-codegen">Extends the abstract class provided by the codegen<a class="hash-link" href="#extends-the-abstract-class-provided-by-the-codegen" title="Direct link to heading">​</a></h3><p>Update your native module or component to ensure it <strong>extends the abstract class</strong> that has been code-generated from your JavaScript specs (i.e. the <code>NativeAwesomeManagerSpec.java</code> file from the previous example).</p><p>Following the example set forth in the previous section, your library might import <code>NativeAwesomeManagerSpec</code>, implement the relevant native interface and the necessary methods for it:</p><div class="codeBlockContainer_1ukp language-java theme-code-block"><div class="codeBlockContent_3Y8q java"><pre tabindex="0" class="prism-code language-java codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">import androidx.annotation.NonNull;</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">import com.example.samplelibrary.NativeAwesomeManagerSpec;</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">import com.facebook.react.bridge.Promise;</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">import com.facebook.react.bridge.ReactApplicationContext;</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">public class NativeAwesomeManager extends NativeAwesomeManagerSpec {</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    public static final String NAME = &quot;NativeAwesomeManager&quot;;</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    public NativeAwesomeManager(ReactApplicationContext reactContext) {</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">        super(reactContext);</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    public void getString(String id, Promise promise) {</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">        // Implement this method</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    @NonNull</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    public String getName() {</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">        return NAME;</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>Please note that the <strong>generated abstract class</strong> that you’re now extending (<code>MyAwesomeSpec</code> in this example), is itself extending <code>ReactContextBaseJavaModule</code>. Therefore you should not use access to any of the method/fields you were previously using (e.g. the <code>ReactApplicationContext</code> and so on). Moreover the generated class will now also implement the <code>TurboModule</code> interface for you.</p></div><footer class="docMetadata row docusaurus-mt-lg"><div class="col"><a href="https://github.com/reactnativecn/react-native-website/blob/production/cnwebsite/../cndocs/new-architecture-library-android.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_1CBY" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_1szQ"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_rbnR thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-configure-codegen-in-your-gradle-file" class="table-of-contents__link toc-highlight">1. Configure Codegen in your Gradle File</a></li><li><a href="#2-extend-or-implement-the-code-generated-native-interfaces" class="table-of-contents__link toc-highlight">2. Extend or implement the code-generated native interfaces</a><ul><li><a href="#extends-the-abstract-class-provided-by-the-codegen" class="table-of-contents__link toc-highlight">Extends the abstract class provided by the codegen</a></li></ul></li></ul><div class="wwads-cn wwads-vertical" data-id="58" style="max-width:200px;margin-top:20px"></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">React Native 中文网 © 2022 武汉青罗网络科技有限公司
      <a style="margin-left:10px" href="http://beian.miit.gov.cn/">鄂ICP备20002031号-3</a>
      <img style="width:25px" src="//img.alicdn.com/tfs/TB1..50QpXXXXX7XpXXXXXXXXXX-40-40.png" alt="鄂公网安备 42011202001821号">
      <a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=42011202001821">鄂公网安备 42011202001821号</a>
      </div></div></div></footer></div>
<script src="/assets/js/runtime~main.74683e8c.js"></script>
<script src="/assets/js/main.5540c489.js"></script>
</body>
</html>