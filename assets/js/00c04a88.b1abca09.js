"use strict";(self.webpackChunkreact_native_website=self.webpackChunkreact_native_website||[]).push([[78445],{35318:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var a=n(27378);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),d=c(n),m=r,b=d["".concat(s,".").concat(m)]||d[m]||p[m]||o;return n?a.createElement(b,l(l({ref:t},u),{},{components:n})):a.createElement(b,l({ref:t},u))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,l[1]=i;for(var c=2;c<o;c++)l[c]=n[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},11674:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(63445);const r=!!a.Z.canUseDOM&&navigator.platform.startsWith("Mac"),o=!!a.Z.canUseDOM&&navigator.platform.startsWith("Win"),l={defaultGuide:"native",defaultOs:r?"macos":o?"windows":"linux",defaultPackageManager:"npm",defaultPlatform:r?"ios":"android",defaultSyntax:"functional",getDevNotesTabs:(e=["android","ios","web","windows"])=>[e.includes("android")?{label:"Android",value:"android"}:void 0,e.includes("ios")?{label:"iOS",value:"ios"}:void 0,e.includes("web")?{label:"Web",value:"web"}:void 0,e.includes("windows")?{label:"Windows",value:"windows"}:void 0].filter(Boolean),guides:[{label:"\u5b8c\u6574\u539f\u751f\u73af\u5883",value:"native"},{label:"\u7b80\u6613\u6c99\u76d2\u73af\u5883",value:"quickstart"}],oses:[{label:"macOS",value:"macos"},{label:"Windows",value:"windows"},{label:"Linux",value:"linux"}],packageManagers:[{label:"npm",value:"npm"},{label:"Yarn",value:"yarn"}],platforms:[{label:"Android",value:"android"},{label:"iOS",value:"ios"}],syntax:[{label:"\u51fd\u6570\u5f0f\u7ec4\u4ef6",value:"functional"},{label:"Class \u7ec4\u4ef6",value:"classical"}]}},86386:(e,t,n)=>{n.d(t,{Z:()=>p});var a=n(27378),r=n(38944);const o="tabItem_wHwb";var l=Object.defineProperty,i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function p({children:e,hidden:t,className:n}){return a.createElement("div",((e,t)=>{for(var n in t||(t={}))s.call(t,n)&&u(e,n,t[n]);if(i)for(var n of i(t))c.call(t,n)&&u(e,n,t[n]);return e})({role:"tabpanel",className:(0,r.Z)(o,n)},{hidden:t}),e)}},48375:(e,t,n)=>{n.d(t,{Z:()=>M});var a=n(27378),r=n(38944),o=n(12112),l=n(35331),i=n(14953),s=n(27886),c=n(7106),u=Object.defineProperty,p=Object.defineProperties,d=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function g(e){return function(e){return a.Children.map(e,(e=>{if((0,a.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))}(e).map((({props:{value:e,label:t,attributes:n,default:a}})=>({value:e,label:t,attributes:n,default:a})))}function h(e){const{values:t,children:n}=e;return(0,a.useMemo)((()=>{const e=null!=t?t:g(n);return function(e){const t=(0,s.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function y({value:e,tabValues:t}){return t.some((t=>t.value===e))}function k({queryString:e=!1,groupId:t}){const n=(0,l.k6)(),r=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=t?t:null}({queryString:e,groupId:t});return[(0,i._X)(r),(0,a.useCallback)((e=>{if(!r)return;const t=new URLSearchParams(n.location.search);var a,o;t.set(r,e),n.replace((a=((e,t)=>{for(var n in t||(t={}))b.call(t,n)&&f(e,n,t[n]);if(m)for(var n of m(t))v.call(t,n)&&f(e,n,t[n]);return e})({},n.location),o={search:t.toString()},p(a,d(o))))}),[r,n])]}function w(e){const{defaultValue:t,queryString:n=!1,groupId:r}=e,o=h(e),[l,i]=(0,a.useState)((()=>function({defaultValue:e,tabValues:t}){var n;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!y({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const a=null!=(n=t.find((e=>e.default)))?n:t[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:o}))),[s,u]=k({queryString:n,groupId:r}),[p,d]=function({groupId:e}){const t=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,r]=(0,c.Nk)(t);return[n,(0,a.useCallback)((e=>{t&&r.set(e)}),[t,r])]}({groupId:r}),m=(()=>{const e=null!=s?s:p;return y({value:e,tabValues:o})?e:null})();(0,a.useLayoutEffect)((()=>{m&&i(m)}),[m]);return{selectedValue:l,selectValue:(0,a.useCallback)((e=>{if(!y({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);i(e),u(e),d(e)}),[u,d,o]),tabValues:o}}var O=n(14185);const N="tabList_J5MA",I="tabItem_l0OV";var j=Object.defineProperty,T=Object.defineProperties,C=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,P=(e,t,n)=>t in e?j(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,R=(e,t)=>{for(var n in t||(t={}))x.call(t,n)&&P(e,n,t[n]);if(E)for(var n of E(t))D.call(t,n)&&P(e,n,t[n]);return e};function S({className:e,block:t,selectedValue:n,selectValue:l,tabValues:i}){const s=[],{blockElementScrollPositionUntilNextRender:c}=(0,o.o5)(),u=e=>{const t=e.currentTarget,a=s.indexOf(t),r=i[a].value;r!==n&&(c(t),l(r))},p=e=>{var t,n;let a=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const n=s.indexOf(e.currentTarget)+1;a=null!=(t=s[n])?t:s[0];break}case"ArrowLeft":{const t=s.indexOf(e.currentTarget)-1;a=null!=(n=s[t])?n:s[s.length-1];break}}null==a||a.focus()};return a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":t},e)},i.map((({value:e,label:t,attributes:o})=>{return a.createElement("li",(l=R({role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,key:e,ref:e=>s.push(e),onKeyDown:p,onClick:u},o),i={className:(0,r.Z)("tabs__item",I,null==o?void 0:o.className,{"tabs__item--active":n===e})},T(l,C(i))),null!=t?t:e);var l,i})))}function Z({lazy:e,children:t,selectedValue:n}){if(t=Array.isArray(t)?t:[t],e){const e=t.find((e=>e.props.value===n));return e?(0,a.cloneElement)(e,{className:"margin-top--md"}):null}return a.createElement("div",{className:"margin-top--md"},t.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==n}))))}function V(e){const t=w(e);return a.createElement("div",{className:(0,r.Z)("tabs-container",N)},a.createElement(S,R(R({},e),t)),a.createElement(Z,R(R({},e),t)))}function M(e){const t=(0,O.Z)();return a.createElement(V,R({key:String(t)},e))}},67624:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>f,default:()=>w,frontMatter:()=>v,metadata:()=>g,toc:()=>y});var a=n(35318),r=n(48375),o=n(86386),l=n(11674),i=Object.defineProperty,s=Object.defineProperties,c=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b=(e,t)=>{for(var n in t||(t={}))p.call(t,n)&&m(e,n,t[n]);if(u)for(var n of u(t))d.call(t,n)&&m(e,n,t[n]);return e};const v={id:"react-devtools",title:"React \u5f00\u53d1\u8005\u5de5\u5177"},f=void 0,g={unversionedId:"react-devtools",id:"react-devtools",title:"React \u5f00\u53d1\u8005\u5de5\u5177",description:"\u4f60\u53ef\u4ee5\u4f7f\u7528\u72ec\u7acb\u7248 React \u5f00\u53d1\u8005\u5de5\u5177(\u4e0d\u662f chrome \u7684\u63d2\u4ef6)\u6765\u8c03\u8bd5 React \u7ec4\u4ef6\u5c42\u6b21\u7ed3\u6784\u3002\u8981\u4f7f\u7528\u5b83\uff0c\u8bf7\u5168\u5c40\u5b89\u88c5react-devtools\u5305:",source:"@site/../cndocs/react-devtools.md",sourceDirName:".",slug:"/react-devtools",permalink:"/docs/next/react-devtools",draft:!1,editUrl:"https://github.com/reactnativecn/react-native-website/blob/production/cnwebsite/../cndocs/react-devtools.md",tags:[],version:"current",frontMatter:{id:"react-devtools",title:"React \u5f00\u53d1\u8005\u5de5\u5177"},sidebar:"docs",previous:{title:"\u8c03\u8bd5",permalink:"/docs/next/debugging"},next:{title:"\u8c03\u8bd5\u539f\u751f\u4ee3\u7801",permalink:"/docs/next/native-debugging"}},h={},y=[{value:"Integration with React Native Inspector",id:"integration-with-react-native-inspector",level:2},{value:"Inspecting Component Instances",id:"inspecting-component-instances",level:2},{value:"Debugging application state",id:"debugging-application-state",level:2}],k={toc:y};function w(e){var t,i=e,{components:m}=i,v=((e,t)=>{var n={};for(var a in e)p.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&u)for(var a of u(e))t.indexOf(a)<0&&d.call(e,a)&&(n[a]=e[a]);return n})(i,["components"]);return(0,a.kt)("wrapper",(t=b(b({},k),v),s(t,c({components:m,mdxType:"MDXLayout"}))),(0,a.kt)("p",null,"\u4f60\u53ef\u4ee5\u4f7f\u7528",(0,a.kt)("a",b({parentName:"p"},{href:"https://github.com/facebook/react/tree/main/packages/react-devtools"}),"\u72ec\u7acb\u7248 React \u5f00\u53d1\u8005\u5de5\u5177(\u4e0d\u662f chrome \u7684\u63d2\u4ef6)"),"\u6765\u8c03\u8bd5 React \u7ec4\u4ef6\u5c42\u6b21\u7ed3\u6784\u3002\u8981\u4f7f\u7528\u5b83\uff0c\u8bf7\u5168\u5c40\u5b89\u88c5",(0,a.kt)("inlineCode",{parentName:"p"},"react-devtools"),"\u5305:"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u6ce8\u610f\uff1areact-devtools v4 \u9700\u8981 react-native 0.62 \u6216\u66f4\u9ad8\u7248\u672c\u624d\u80fd\u6b63\u5e38\u5de5\u4f5c\u3002")),(0,a.kt)(r.Z,{groupId:"package-manager",defaultValue:l.Z.defaultPackageManager,values:l.Z.packageManagers,mdxType:"Tabs"},(0,a.kt)(o.Z,{value:"npm",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",b({parentName:"pre"},{className:"language-shell"}),"npm install -g react-devtools\n"))),(0,a.kt)(o.Z,{value:"yarn",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",b({parentName:"pre"},{className:"language-shell"}),"yarn global add react-devtools\n")))),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u8bd1\u6ce8\uff1areact-devtools \u4f9d\u8d56\u4e8e electron\uff0c\u800c electron \u9700\u8981\u5230\u56fd\u5916\u670d\u52a1\u5668\u4e0b\u8f7d\u4e8c\u8fdb\u5236\u5305\uff0c\u6240\u4ee5\u56fd\u5185\u7528\u6237\u8fd9\u4e00\u6b65\u5f88\u53ef\u80fd\u4f1a\u5361\u4f4f\u3002\u6b64\u65f6\u8bf7\u5728",(0,a.kt)("inlineCode",{parentName:"p"},"\u73af\u5883\u53d8\u91cf"),"\u4e2d\u6dfb\u52a0 electron \u4e13\u7528\u7684\u56fd\u5185\u955c\u50cf\u6e90\uff1a",(0,a.kt)("inlineCode",{parentName:"p"},'ELECTRON_MIRROR="https://npm.taobao.org/mirrors/electron/"'),"\uff0c\u7136\u540e\u518d\u5c1d\u8bd5\u5b89\u88c5 react-devtools\u3002")),(0,a.kt)("p",null,"\u5b89\u88c5\u5b8c\u6210\u540e\u5728\u547d\u4ee4\u884c\u4e2d\u6267\u884c",(0,a.kt)("inlineCode",{parentName:"p"},"react-devtools"),"\u5373\u53ef\u542f\u52a8\u6b64\u5de5\u5177\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",b({parentName:"pre"},{}),"react-devtools\n")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"React DevTools",src:n(16453).Z,width:"1824",height:"1424"})),(0,a.kt)("p",null,"\u5f88\u5feb\u5c31\u80fd\u8fde\u4e0a\u6a21\u62df\u5668\u3002"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u63d0\u793a\uff1a\u5982\u679c\u4f60\u4e0d\u60f3\u5168\u5c40\u5b89\u88c5",(0,a.kt)("inlineCode",{parentName:"p"},"react-devtools"),"\uff0c\u53ef\u4ee5\u628a\u5b83\u5355\u72ec\u52a0\u5165\u9879\u76ee\u4e2d\u3002\u7528",(0,a.kt)("inlineCode",{parentName:"p"},"npm install --save-dev react-devtools"),"\u547d\u4ee4\u628a",(0,a.kt)("inlineCode",{parentName:"p"},"react-devtools"),"\u5305\u5b89\u88c5\u5230\u4f60\u7684\u9879\u76ee\u4e2d\uff0c\u5e76\u5728",(0,a.kt)("inlineCode",{parentName:"p"},"package.json"),"\u7684",(0,a.kt)("inlineCode",{parentName:"p"},"scripts"),"\u4e2d\u6dfb\u52a0 ",(0,a.kt)("inlineCode",{parentName:"p"},'"react-devtools": "react-devtools"'),"\uff0c\u63a5\u7740\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u8fd0\u884c",(0,a.kt)("inlineCode",{parentName:"p"},"npm run react-devtools"),"\u547d\u4ee4\u5373\u53ef\u3002")),(0,a.kt)("admonition",b({},{type:"info"}),(0,a.kt)("p",{parentName:"admonition"},"If connecting to the emulator proves troublesome (especially Android 12), try running ",(0,a.kt)("inlineCode",{parentName:"p"},"adb reverse tcp:8097 tcp:8097")," in a new terminal.")),(0,a.kt)("admonition",b({},{type:"info"}),(0,a.kt)("p",{parentName:"admonition"},"If you prefer to avoid global installations, you can add ",(0,a.kt)("inlineCode",{parentName:"p"},"react-devtools")," as a project dependency. Add the ",(0,a.kt)("inlineCode",{parentName:"p"},"react-devtools")," package to your project using ",(0,a.kt)("inlineCode",{parentName:"p"},"npm install --save-dev react-devtools"),", then add ",(0,a.kt)("inlineCode",{parentName:"p"},'"react-devtools": "react-devtools"')," to the ",(0,a.kt)("inlineCode",{parentName:"p"},"scripts")," section in your ",(0,a.kt)("inlineCode",{parentName:"p"},"package.json"),", and then run ",(0,a.kt)("inlineCode",{parentName:"p"},"npm run react-devtools")," from your project folder to open the DevTools.")),(0,a.kt)("h2",b({},{id:"integration-with-react-native-inspector"}),"Integration with React Native Inspector"),(0,a.kt)("p",null,'Open the Dev Menu and choose "Toggle Inspector". It will bring up an overlay that lets you tap on any UI element and see information about it:'),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"React Native Inspector",src:n(28188).Z,width:"318",height:"589"})),(0,a.kt)("p",null,"However, when ",(0,a.kt)("inlineCode",{parentName:"p"},"react-devtools")," is running, Inspector will enter a collapsed mode, and instead use the DevTools as primary UI. In this mode, clicking on something in the simulator will bring up the relevant components in the DevTools:"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"React DevTools Inspector Integration",src:n(93715).Z,width:"796",height:"595"})),(0,a.kt)("p",null,'You can choose "Toggle Inspector" in the same menu to exit this mode.'),(0,a.kt)("h2",b({},{id:"inspecting-component-instances"}),"Inspecting Component Instances"),(0,a.kt)("p",null,"When debugging JavaScript in Chrome, you can inspect the props and state of the React components in the browser console."),(0,a.kt)("p",null,"First, follow the instructions for debugging in Chrome to open the Chrome console."),(0,a.kt)("p",null,"Make sure that the dropdown in the top left corner of the Chrome console says ",(0,a.kt)("inlineCode",{parentName:"p"},"debuggerWorker.js"),". ",(0,a.kt)("strong",{parentName:"p"},"This step is essential.")),(0,a.kt)("p",null,"Then select a React component in React DevTools. There is a search box at the top that helps you find one by name. As soon as you select it, it will be available as ",(0,a.kt)("inlineCode",{parentName:"p"},"$r")," in the Chrome console, letting you inspect its props, state, and instance properties."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"React DevTools Chrome Console Integration",src:n(63785).Z,width:"863",height:"720"})),(0,a.kt)("h2",b({},{id:"debugging-application-state"}),"Debugging application state"),(0,a.kt)("p",null,(0,a.kt)("a",b({parentName:"p"},{href:"https://github.com/infinitered/reactotron"}),"Reactotron")," is an open-source desktop app that allows you to inspect Redux or MobX-State-Tree application state as well as view custom logs, run custom commands such as resetting state, store and restore state snapshots, and other helpful debugging features for React Native apps."),(0,a.kt)("p",null,"You can view installation instructions ",(0,a.kt)("a",b({parentName:"p"},{href:"https://github.com/infinitered/reactotron"}),"in the README"),". If you're using Expo, here is an article detailing ",(0,a.kt)("a",b({parentName:"p"},{href:"https://shift.infinite.red/start-using-reactotron-in-your-expo-project-today-in-3-easy-steps-a03d11032a7a"}),"how to install on Expo"),"."))}w.isMDXComponent=!0},16453:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/ReactDevTools-46f5369dca7c5f17b9e2390e76968d56.png"},28188:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Inspector-4bd1342086bcd964bbd7f82e453743a7.gif"},63785:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/ReactDevToolsDollarR-1d3a289a44523b92e252a3c65fb82a83.gif"},93715:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/ReactDevToolsInspector-fb13d6cdad3479437715a25e038cf6f6.gif"}}]);