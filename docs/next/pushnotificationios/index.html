<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="search" type="application/opensearchdescription+xml" title="React Native 中文网" href="/opensearch.xml">
<script src="//snack.expo.dev/embed.js" defer="defer"></script>
<script src="//cdn.wwads.cn/js/makemoney.js" defer="defer"></script><title data-react-helmet="true">🚧 PushNotificationIOS · React Native 中文网</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="twitter:image" content="https://reactnative.cn/img/logo-og.png"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:url" content="https://reactnative.cn"><meta data-react-helmet="true" property="og:image" content="img/logo-og.png"><meta data-react-helmet="true" property="og:title" content="🚧 PushNotificationIOS · React Native 中文网"><meta data-react-helmet="true" name="description" content="已过时。 Use @react-native-community/push-notification-ios instead."><meta data-react-helmet="true" property="og:description" content="已过时。 Use @react-native-community/push-notification-ios instead."><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://reactnative.cn/docs/next/pushnotificationios"><link data-react-helmet="true" rel="alternate" href="https://reactnative.cn/docs/next/pushnotificationios" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://reactnative.cn/docs/next/pushnotificationios" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.f0955374.css">
<link rel="preload" href="/assets/js/runtime~main.ae586b31.js" as="script">
<link rel="preload" href="/assets/js/main.10ea0b78.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_3wvD">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/header_logo.svg" alt="React Native 中文网" class="themedImage_Ir0T themedImage--light_2_E0"><img src="/img/header_logo.svg" alt="React Native 中文网" class="themedImage_Ir0T themedImage--dark_2JiM"></div><b class="navbar__title">React Native 中文网</b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" href="/docs/next/getting-started">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/next/pushnotificationios">Next</a></li><li><a class="dropdown__link" href="/docs/pushnotificationios">0.66</a></li><li><a class="dropdown__link" href="/docs/0.65/pushnotificationios">0.65</a></li><li><a class="dropdown__link" href="/docs/0.64/pushnotificationios">0.64</a></li><li><a class="dropdown__link" href="/docs/0.63/pushnotificationios">0.63</a></li><li><a class="dropdown__link" href="/versions">所有版本</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/next/getting-started">文档</a><a class="navbar__item navbar__link" href="/docs/next/components-and-apis">组件</a><a class="navbar__item navbar__link" href="/docs/next/accessibilityinfo">API</a><a class="navbar__item navbar__link" href="/docs/next/architecture-overview">架构</a><a href="//github.com/reactnativecn/react-native-website/issues" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>讨论<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_pqex"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="//pushy.reactnative.cn" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link pushy"><span>热更新<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_pqex"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a class="navbar__item navbar__link" href="/about">关于</a><a href="//github.com/facebook/react-native" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-github-link" aria-label="GitHub repository"></a><div class="toggle_2wFP toggle_2vag toggleDisabled_1jUP"><div class="toggleTrack_OYnE" role="button" tabindex="-1"><div class="toggleTrackCheck_3aVv"><span class="toggleIcon_1mQT">🌜</span></div><div class="toggleTrackX_oB48"><span class="toggleIcon_1mQT">🌞</span></div><div class="toggleTrackThumb_3qal"></div></div><input type="checkbox" class="toggleScreenReader_bg_d" aria-label="Switch between dark and light mode"></div><div class="searchBox_WYtD"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_3jyA"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_2PbN" type="button"></button><main class="docMainContainer_28SP docMainContainerEnhanced_YA74"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_2rXS"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->React Native 中文网<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/pushnotificationios">latest version</a></b> (<!-- -->0.66<!-- -->).</div></div><div class="docItemContainer_1EXp"><article><div><span class="badge badge--secondary">版本: <!-- -->Next</span></div><div class="markdown"><header><h1>🚧 PushNotificationIOS</h1></header><blockquote><p><strong>已过时。</strong> Use <a href="https://github.com/react-native-community/react-native-push-notification-ios" target="_blank" rel="noopener noreferrer">@react-native-community/push-notification-ios</a> instead.</p></blockquote><div class="banner-native-code-required"><h3>Projects with Native Code Only</h3><p>The following section only applies to projects with native code exposed. If you are using the managed <code>expo-cli</code> workflow, see the guide on <a href="https://docs.expo.io/versions/latest/sdk/notifications/" target="_blank" rel="noopener noreferrer">Notifications</a> in the Expo documentation for the appropriate alternative.</p></div><p>本模块帮助你处理应用的推送通知，包括权限控制以及应用图标上的角标数（未读消息数）。</p><p>要使用推送通知功能，首先<a href="https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/AddingCapabilities/AddingCapabilities.html#//apple_ref/doc/uid/TP40012582-CH26-SW6" target="_blank" rel="noopener noreferrer">在苹果后台配置推送通知服务</a>并且准备好服务端的系统。</p><p>Add the PushNotificationIOS library to your Podfile: ./ios/Podfile</p><div class="codeBlockContainer_1ukp language-ruby theme-code-block"><div class="codeBlockContent_3Y8q ruby"><pre tabindex="0" class="prism-code language-ruby codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  target &#x27;myAwesomeApp&#x27; do</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    # Pods for myAwesomeApp</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">    pod &#x27;React-RCTPushNotification&#x27;, :path =&gt; &#x27;../node_modules/react-native/Libraries/PushNotificationIOS&#x27;</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  end</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>译注: 0.60 版本之前的步骤不同，请查看老版本文档。</p><p>然后你需要在 AppDelegate 中启用推送通知的支持以及注册相应的事件。</p><p>在<code>AppDelegate.m</code>开头：</p><div class="codeBlockContainer_1ukp language-objectivec theme-code-block"><div class="codeBlockContent_3Y8q objectivec"><pre tabindex="0" class="prism-code language-objectivec codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token macro property directive-hash" style="color:#2aa198">#</span><span class="token macro property directive keyword" style="color:#c5a5c5">import</span><span class="token macro property" style="color:#2aa198"> </span><span class="token macro property expression operator" style="color:#fc929e">&lt;</span><span class="token macro property expression" style="color:#2aa198">React</span><span class="token macro property expression operator" style="color:#fc929e">/</span><span class="token macro property expression" style="color:#2aa198">RCTPushNotificationManager</span><span class="token macro property expression punctuation" style="color:#657b83">.</span><span class="token macro property expression" style="color:#2aa198">h</span><span class="token macro property expression operator" style="color:#fc929e">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>然后在 AppDelegate 实现中添加如下的代码：</p><div class="codeBlockContainer_1ukp theme-code-block"><div class="codeBlockContent_3Y8q jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"> </span><span class="token comment" style="color:#93a1a1">// Required to register for notifications</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"> </span><span class="token operator" style="color:#fc929e">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token keyword" style="color:#c5a5c5">void</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain">application</span><span class="token operator" style="color:#fc929e">:</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">UIApplication </span><span class="token operator" style="color:#fc929e">*</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain">application didRegisterUserNotificationSettings</span><span class="token operator" style="color:#fc929e">:</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">UIUserNotificationSettings </span><span class="token operator" style="color:#fc929e">*</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain">notificationSettings</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">RCTPushNotificationManager didRegisterUserNotificationSettings</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain">notificationSettings</span><span class="token punctuation" style="color:#657b83">]</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"> </span><span class="token comment" style="color:#93a1a1">// Required for the register event.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"> </span><span class="token operator" style="color:#fc929e">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token keyword" style="color:#c5a5c5">void</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain">application</span><span class="token operator" style="color:#fc929e">:</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">UIApplication </span><span class="token operator" style="color:#fc929e">*</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain">application didRegisterForRemoteNotificationsWithDeviceToken</span><span class="token operator" style="color:#fc929e">:</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">NSData </span><span class="token operator" style="color:#fc929e">*</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain">deviceToken</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">RCTPushNotificationManager didRegisterForRemoteNotificationsWithDeviceToken</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain">deviceToken</span><span class="token punctuation" style="color:#657b83">]</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"> </span><span class="token comment" style="color:#93a1a1">// Required for the notification event. You must call the completion handler after handling the remote notification.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"> </span><span class="token operator" style="color:#fc929e">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token keyword" style="color:#c5a5c5">void</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain">application</span><span class="token operator" style="color:#fc929e">:</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">UIApplication </span><span class="token operator" style="color:#fc929e">*</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain">application didReceiveRemoteNotification</span><span class="token operator" style="color:#fc929e">:</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">NSDictionary </span><span class="token operator" style="color:#fc929e">*</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain">userInfo</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">                                                        fetchCompletionHandler</span><span class="token operator" style="color:#fc929e">:</span><span class="token punctuation" style="color:#657b83">(</span><span class="token keyword" style="color:#c5a5c5">void</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token operator" style="color:#fc929e">^</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">UIBackgroundFetchResult</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain">completionHandler</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">   </span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">RCTPushNotificationManager didReceiveRemoteNotification</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain">userInfo fetchCompletionHandler</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain">completionHandler</span><span class="token punctuation" style="color:#657b83">]</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"> </span><span class="token comment" style="color:#93a1a1">// Required for the registrationError event.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"> </span><span class="token operator" style="color:#fc929e">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token keyword" style="color:#c5a5c5">void</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain">application</span><span class="token operator" style="color:#fc929e">:</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">UIApplication </span><span class="token operator" style="color:#fc929e">*</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain">application didFailToRegisterForRemoteNotificationsWithError</span><span class="token operator" style="color:#fc929e">:</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">NSError </span><span class="token operator" style="color:#fc929e">*</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain">error</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">RCTPushNotificationManager didFailToRegisterForRemoteNotificationsWithError</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain">error</span><span class="token punctuation" style="color:#657b83">]</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"> </span><span class="token comment" style="color:#93a1a1">// Required for the localNotification event.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"> </span><span class="token operator" style="color:#fc929e">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token keyword" style="color:#c5a5c5">void</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain">application</span><span class="token operator" style="color:#fc929e">:</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">UIApplication </span><span class="token operator" style="color:#fc929e">*</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain">application didReceiveLocalNotification</span><span class="token operator" style="color:#fc929e">:</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">UILocalNotification </span><span class="token operator" style="color:#fc929e">*</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain">notification</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">RCTPushNotificationManager didReceiveLocalNotification</span><span class="token operator" style="color:#fc929e">:</span><span class="token plain">notification</span><span class="token punctuation" style="color:#657b83">]</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>To show notifications while being in the foreground (available starting from iOS 10) add the following lines:</p><p>At the top of your <code>AppDelegate.m</code>:</p><p><code>#import &lt;UserNotifications/UserNotifications.h&gt;</code></p><p>And then in your AppDelegate implementation add the following:</p><div class="codeBlockContainer_1ukp language-objectivec theme-code-block"><div class="codeBlockContent_3Y8q objectivec"><pre tabindex="0" class="prism-code language-objectivec codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token operator" style="color:#fc929e">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">BOOL</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain">application</span><span class="token punctuation" style="color:#657b83">:</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">UIApplication </span><span class="token operator" style="color:#fc929e">*</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain">application didFinishLaunchingWithOptions</span><span class="token punctuation" style="color:#657b83">:</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">NSDictionary </span><span class="token operator" style="color:#fc929e">*</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain">launchOptions</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token punctuation" style="color:#657b83">.</span><span class="token punctuation" style="color:#657b83">.</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token comment" style="color:#93a1a1">// Define UNUserNotificationCenter</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  UNUserNotificationCenter </span><span class="token operator" style="color:#fc929e">*</span><span class="token plain">center </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">UNUserNotificationCenter currentNotificationCenter</span><span class="token punctuation" style="color:#657b83">]</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  center</span><span class="token punctuation" style="color:#657b83">.</span><span class="token plain">delegate </span><span class="token operator" style="color:#fc929e">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">self</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token keyword" style="color:#c5a5c5">return</span><span class="token plain"> YES</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token comment" style="color:#93a1a1">//Called when a notification is delivered to a foreground app.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token operator" style="color:#fc929e">-</span><span class="token punctuation" style="color:#657b83">(</span><span class="token keyword" style="color:#c5a5c5">void</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain">userNotificationCenter</span><span class="token punctuation" style="color:#657b83">:</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">UNUserNotificationCenter </span><span class="token operator" style="color:#fc929e">*</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain">center willPresentNotification</span><span class="token punctuation" style="color:#657b83">:</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">UNNotification </span><span class="token operator" style="color:#fc929e">*</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain">notification withCompletionHandler</span><span class="token punctuation" style="color:#657b83">:</span><span class="token punctuation" style="color:#657b83">(</span><span class="token keyword" style="color:#c5a5c5">void</span><span class="token plain"> </span><span class="token punctuation" style="color:#657b83">(</span><span class="token operator" style="color:#fc929e">^</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">UNNotificationPresentationOptions options</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">)</span><span class="token plain">completionHandler</span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">  </span><span class="token function" style="color:#79b6f2">completionHandler</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">UNAuthorizationOptionSound </span><span class="token operator" style="color:#fc929e">|</span><span class="token plain"> UNAuthorizationOptionAlert </span><span class="token operator" style="color:#fc929e">|</span><span class="token plain"> UNAuthorizationOptionBadge</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain"></span><span class="token punctuation" style="color:#657b83">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>Then enable Background Modes/Remote notifications to be able to use remote notifications properly. The easiest way to do this is via the project settings. Navigate to Targets -&gt; Your App -&gt; Capabilities -&gt; Background Modes and check Remote notifications. This will automatically enable the required settings.</p><hr><header><h1>文档</h1></header><h2 class="anchor anchorWithStickyNavbar_23Bc" id="methods">Methods<a class="hash-link" href="#methods" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_23Bc" id="presentlocalnotification"><code>presentLocalNotification()</code><a class="hash-link" href="#presentlocalnotification" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_1ukp language-jsx theme-code-block"><div class="codeBlockContent_3Y8q jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">PushNotificationIOS</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">presentLocalNotification</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">details</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>Schedules the localNotification for immediate presentation.</p><p><strong>参数：</strong></p><table><thead><tr><th>名称</th><th>类型</th><th>必需</th><th>说明</th></tr></thead><tbody><tr><td>details</td><td>object</td><td>是</td><td>看下面的说明</td></tr></tbody></table><p>details is an object containing:</p><ul><li><code>alertBody</code> : The message displayed in the notification alert.</li><li><code>alertAction</code> : The &quot;action&quot; displayed beneath an actionable notification. Defaults to &quot;view&quot;;</li><li><code>soundName</code> : The sound played when the notification is fired (optional).</li><li><code>isSilent</code> : If true, the notification will appear without sound (optional).</li><li><code>category</code> : The category of this notification, required for actionable notifications (optional).</li><li><code>userInfo</code> : An optional object containing additional notification data.</li><li><code>applicationIconBadgeNumber</code> (optional) : The number to display as the app&#x27;s icon badge. The default value of this property is 0, which means that no badge is displayed.</li></ul><hr><h3 class="anchor anchorWithStickyNavbar_23Bc" id="schedulelocalnotification"><code>scheduleLocalNotification()</code><a class="hash-link" href="#schedulelocalnotification" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_1ukp language-jsx theme-code-block"><div class="codeBlockContent_3Y8q jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">PushNotificationIOS</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">scheduleLocalNotification</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">details</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>Schedules the localNotification for future presentation.</p><p><strong>参数：</strong></p><table><thead><tr><th>名称</th><th>类型</th><th>必需</th><th>说明</th></tr></thead><tbody><tr><td>details</td><td>object</td><td>是</td><td>看下面的说明</td></tr></tbody></table><p>details is an object containing:</p><ul><li><code>fireDate</code> : The date and time when the system should deliver the notification.</li><li><code>alertTitle</code> : The text displayed as the title of the notification alert.</li><li><code>alertBody</code> : The message displayed in the notification alert.</li><li><code>alertAction</code> : The &quot;action&quot; displayed beneath an actionable notification. Defaults to &quot;view&quot;;</li><li><code>soundName</code> : The sound played when the notification is fired (optional).</li><li><code>isSilent</code> : If true, the notification will appear without sound (optional).</li><li><code>category</code> : The category of this notification, required for actionable notifications (optional).</li><li><code>userInfo</code> : An optional object containing additional notification data.</li><li><code>applicationIconBadgeNumber</code> (optional) : The number to display as the app&#x27;s icon badge. Setting the number to 0 removes the icon badge.</li><li><code>repeatInterval</code> : The interval to repeat as a string. Possible values: <code>minute</code>, <code>hour</code>, <code>day</code>, <code>week</code>, <code>month</code>, <code>year</code>.</li></ul><hr><h3 class="anchor anchorWithStickyNavbar_23Bc" id="cancelalllocalnotifications"><code>cancelAllLocalNotifications()</code><a class="hash-link" href="#cancelalllocalnotifications" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_1ukp language-jsx theme-code-block"><div class="codeBlockContent_3Y8q jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">PushNotificationIOS</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">cancelAllLocalNotifications</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>Cancels all scheduled localNotifications</p><hr><h3 class="anchor anchorWithStickyNavbar_23Bc" id="removealldeliverednotifications"><code>removeAllDeliveredNotifications()</code><a class="hash-link" href="#removealldeliverednotifications" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_1ukp language-jsx theme-code-block"><div class="codeBlockContent_3Y8q jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">PushNotificationIOS</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">removeAllDeliveredNotifications</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>Remove all delivered notifications from Notification Center</p><hr><h3 class="anchor anchorWithStickyNavbar_23Bc" id="getdeliverednotifications"><code>getDeliveredNotifications()</code><a class="hash-link" href="#getdeliverednotifications" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_1ukp language-jsx theme-code-block"><div class="codeBlockContent_3Y8q jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">PushNotificationIOS</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">getDeliveredNotifications</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">callback</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>Provides you with a list of the app’s notifications that are still displayed in Notification Center</p><p><strong>参数：</strong></p><table><thead><tr><th>名称</th><th>类型</th><th>必需</th><th>说明</th></tr></thead><tbody><tr><td>callback</td><td>function</td><td>是</td><td>Function which receive an array of delivered notifications.</td></tr></tbody></table><p>A delivered notification is an object containing:</p><ul><li><code>identifier</code> : The identifier of this notification.</li><li><code>title</code> : The title of this notification.</li><li><code>body</code> : The body of this notification.</li><li><code>category</code> : The category of this notification, if has one.</li><li><code>userInfo</code> : An optional object containing additional notification data.</li><li><code>thread-id</code> : The thread identifier of this notification, if has one.</li></ul><hr><h3 class="anchor anchorWithStickyNavbar_23Bc" id="removedeliverednotifications"><code>removeDeliveredNotifications()</code><a class="hash-link" href="#removedeliverednotifications" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_1ukp language-jsx theme-code-block"><div class="codeBlockContent_3Y8q jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">PushNotificationIOS</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">removeDeliveredNotifications</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">identifiers</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>Removes the specified notifications from Notification Center</p><p><strong>参数：</strong></p><table><thead><tr><th>名称</th><th>类型</th><th>必需</th><th>说明</th></tr></thead><tbody><tr><td>identifiers</td><td>array</td><td>是</td><td>Array of notification identifiers.</td></tr></tbody></table><hr><h3 class="anchor anchorWithStickyNavbar_23Bc" id="setapplicationiconbadgenumber"><code>setApplicationIconBadgeNumber()</code><a class="hash-link" href="#setapplicationiconbadgenumber" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_1ukp language-jsx theme-code-block"><div class="codeBlockContent_3Y8q jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">PushNotificationIOS</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">setApplicationIconBadgeNumber</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">number</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>Sets the badge number for the app icon on the home screen</p><p><strong>参数：</strong></p><table><thead><tr><th>名称</th><th>类型</th><th>必需</th><th>说明</th></tr></thead><tbody><tr><td>number</td><td>number</td><td>是</td><td>Badge number for the app icon.</td></tr></tbody></table><hr><h3 class="anchor anchorWithStickyNavbar_23Bc" id="getapplicationiconbadgenumber"><code>getApplicationIconBadgeNumber()</code><a class="hash-link" href="#getapplicationiconbadgenumber" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_1ukp language-jsx theme-code-block"><div class="codeBlockContent_3Y8q jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">PushNotificationIOS</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">getApplicationIconBadgeNumber</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">callback</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>Gets the current badge number for the app icon on the home screen</p><p><strong>参数：</strong></p><table><thead><tr><th>名称</th><th>类型</th><th>必需</th><th>说明</th></tr></thead><tbody><tr><td>callback</td><td>function</td><td>是</td><td>A function that will be passed the current badge number.</td></tr></tbody></table><hr><h3 class="anchor anchorWithStickyNavbar_23Bc" id="cancellocalnotifications"><code>cancelLocalNotifications()</code><a class="hash-link" href="#cancellocalnotifications" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_1ukp language-jsx theme-code-block"><div class="codeBlockContent_3Y8q jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">PushNotificationIOS</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">cancelLocalNotifications</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">userInfo</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>Cancel local notifications.</p><p>Optionally restricts the set of canceled notifications to those notifications whose <code>userInfo</code> fields match the corresponding fields in the <code>userInfo</code> argument.</p><p><strong>参数：</strong></p><table><thead><tr><th>名称</th><th>类型</th><th>必需</th><th>说明</th></tr></thead><tbody><tr><td>userInfo</td><td>object</td><td>否</td><td></td></tr></tbody></table><hr><h3 class="anchor anchorWithStickyNavbar_23Bc" id="getscheduledlocalnotifications"><code>getScheduledLocalNotifications()</code><a class="hash-link" href="#getscheduledlocalnotifications" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_1ukp language-jsx theme-code-block"><div class="codeBlockContent_3Y8q jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">PushNotificationIOS</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">getScheduledLocalNotifications</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">callback</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>Gets the local notifications that are currently scheduled.</p><p><strong>参数：</strong></p><table><thead><tr><th>名称</th><th>类型</th><th>必需</th><th>说明</th></tr></thead><tbody><tr><td>callback</td><td>function</td><td>是</td><td>A function that will be passed an array of objects describing local notifications.</td></tr></tbody></table><hr><h3 class="anchor anchorWithStickyNavbar_23Bc" id="addeventlistener"><code>addEventListener()</code><a class="hash-link" href="#addeventlistener" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_1ukp language-jsx theme-code-block"><div class="codeBlockContent_3Y8q jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">PushNotificationIOS</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">addEventListener</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">type</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> handler</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>Attaches a listener to remote or local notification events while the app is running in the foreground or the background.</p><p><strong>参数：</strong></p><table><thead><tr><th>名称</th><th>类型</th><th>必需</th><th>说明</th></tr></thead><tbody><tr><td>类型</td><td>string</td><td>是</td><td>Event type.</td></tr><tr><td>handler</td><td>function</td><td>是</td><td>Listener.</td></tr></tbody></table><p>Valid events are:</p><ul><li><code>notification</code> : Fired when a remote notification is received. The handler will be invoked with an instance of <code>PushNotificationIOS</code>.</li><li><code>localNotification</code> : Fired when a local notification is received. The handler will be invoked with an instance of <code>PushNotificationIOS</code>.</li><li><code>register</code>: Fired when the user registers for remote notifications. The handler will be invoked with a hex string representing the deviceToken.</li><li><code>registrationError</code>: Fired when the user fails to register for remote notifications. Typically occurs when APNS is having issues, or the device is a simulator. The handler will be invoked with {message: string, code: number, details: any}.</li></ul><hr><h3 class="anchor anchorWithStickyNavbar_23Bc" id="removeeventlistener"><code>removeEventListener()</code><a class="hash-link" href="#removeeventlistener" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_1ukp language-jsx theme-code-block"><div class="codeBlockContent_3Y8q jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">PushNotificationIOS</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">removeEventListener</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">type</span><span class="token punctuation" style="color:#657b83">,</span><span class="token plain"> handler</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>Removes the event listener. Do this in <code>componentWillUnmount</code> to prevent memory leaks</p><p><strong>参数：</strong></p><table><thead><tr><th>名称</th><th>类型</th><th>必需</th><th>说明</th></tr></thead><tbody><tr><td>类型</td><td>string</td><td>是</td><td>Event type.</td></tr><tr><td>handler</td><td>function</td><td>是</td><td>Listener.</td></tr></tbody></table><hr><h3 class="anchor anchorWithStickyNavbar_23Bc" id="requestpermissions"><code>requestPermissions()</code><a class="hash-link" href="#requestpermissions" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_1ukp language-jsx theme-code-block"><div class="codeBlockContent_3Y8q jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">PushNotificationIOS</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">requestPermissions</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">[</span><span class="token plain">permissions</span><span class="token punctuation" style="color:#657b83">]</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>Requests notification permissions from iOS, prompting the user&#x27;s dialog box. By default, it will request all notification permissions, but a subset of these can be requested by passing a map of requested permissions. The following permissions are supported:</p><ul><li><code>alert</code></li><li><code>badge</code></li><li><code>sound</code></li></ul><p>If a map is provided to the method, only the permissions with truthy values will be requested.</p><p>This method returns a promise that will resolve when the user accepts, rejects, or if the permissions were previously rejected. The promise resolves to the current state of the permission.</p><p><strong>参数：</strong></p><table><thead><tr><th>名称</th><th>类型</th><th>必需</th><th>说明</th></tr></thead><tbody><tr><td>permissions</td><td>array</td><td>否</td><td>alert, badge, or sound</td></tr></tbody></table><hr><h3 class="anchor anchorWithStickyNavbar_23Bc" id="abandonpermissions"><code>abandonPermissions()</code><a class="hash-link" href="#abandonpermissions" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_1ukp language-jsx theme-code-block"><div class="codeBlockContent_3Y8q jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">PushNotificationIOS</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">abandonPermissions</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>Unregister for all remote notifications received via Apple Push Notification service.</p><p>You should call this method in rare circumstances only, such as when a new version of the app removes support for all types of remote notifications. Users can temporarily prevent apps from receiving remote notifications through the Notifications section of the Settings app. Apps unregistered through this method can always re-register.</p><hr><h3 class="anchor anchorWithStickyNavbar_23Bc" id="checkpermissions"><code>checkPermissions()</code><a class="hash-link" href="#checkpermissions" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_1ukp language-jsx theme-code-block"><div class="codeBlockContent_3Y8q jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">PushNotificationIOS</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">checkPermissions</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">callback</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>See what push permissions are currently enabled.</p><p><strong>参数：</strong></p><table><thead><tr><th>名称</th><th>类型</th><th>必需</th><th>说明</th></tr></thead><tbody><tr><td>callback</td><td>function</td><td>是</td><td>看下面的说明</td></tr></tbody></table><p><code>callback</code> will be invoked with a <code>permissions</code> object:</p><ul><li><code>alert</code> :boolean</li><li><code>badge</code> :boolean</li><li><code>sound</code> :boolean</li></ul><hr><h3 class="anchor anchorWithStickyNavbar_23Bc" id="getinitialnotification"><code>getInitialNotification()</code><a class="hash-link" href="#getinitialnotification" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_1ukp language-jsx theme-code-block"><div class="codeBlockContent_3Y8q jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token plain">PushNotificationIOS</span><span class="token punctuation" style="color:#657b83">.</span><span class="token function" style="color:#79b6f2">getInitialNotification</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>This method returns a promise. If the app was launched by a push notification, this promise resolves to an object of type <code>PushNotificationIOS</code>. Otherwise, it resolves to <code>null</code>.</p><hr><h3 class="anchor anchorWithStickyNavbar_23Bc" id="constructor"><code>constructor()</code><a class="hash-link" href="#constructor" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_1ukp language-jsx theme-code-block"><div class="codeBlockContent_3Y8q jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token function" style="color:#79b6f2">constructor</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">nativeNotif</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>You will never need to instantiate <code>PushNotificationIOS</code> yourself. Listening to the <code>notification</code> event and invoking <code>getInitialNotification</code> is sufficient.</p><hr><h3 class="anchor anchorWithStickyNavbar_23Bc" id="finish"><code>finish()</code><a class="hash-link" href="#finish" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_1ukp language-jsx theme-code-block"><div class="codeBlockContent_3Y8q jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token function" style="color:#79b6f2">finish</span><span class="token punctuation" style="color:#657b83">(</span><span class="token plain">fetchResult</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>This method is available for remote notifications that have been received via: <code>application:didReceiveRemoteNotification:fetchCompletionHandler:</code> <a href="https://developer.apple.com/documentation/uikit/uiapplicationdelegate/1623013-application?language=objc" target="_blank" rel="noopener noreferrer">https://developer.apple.com/documentation/uikit/uiapplicationdelegate/1623013-application?language=objc</a></p><p>Call this to execute when the remote notification handling is complete. When calling this block, pass in the fetch result value that best describes the results of your operation. You <em>must</em> call this handler and should do so as soon as possible. For a list of possible values, see <code>PushNotificationIOS.FetchResult</code>.</p><p>If you do not call this method your background remote notifications could be throttled, to read more about it see the above documentation link.</p><hr><h3 class="anchor anchorWithStickyNavbar_23Bc" id="getmessage"><code>getMessage()</code><a class="hash-link" href="#getmessage" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_1ukp language-jsx theme-code-block"><div class="codeBlockContent_3Y8q jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token function" style="color:#79b6f2">getMessage</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>An alias for <code>getAlert</code> to get the notification&#x27;s main message string</p><hr><h3 class="anchor anchorWithStickyNavbar_23Bc" id="getsound"><code>getSound()</code><a class="hash-link" href="#getsound" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_1ukp language-jsx theme-code-block"><div class="codeBlockContent_3Y8q jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token function" style="color:#79b6f2">getSound</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>Gets the sound string from the <code>aps</code> object</p><hr><h3 class="anchor anchorWithStickyNavbar_23Bc" id="getcategory"><code>getCategory()</code><a class="hash-link" href="#getcategory" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_1ukp language-jsx theme-code-block"><div class="codeBlockContent_3Y8q jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token function" style="color:#79b6f2">getCategory</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>Gets the category string from the <code>aps</code> object</p><hr><h3 class="anchor anchorWithStickyNavbar_23Bc" id="getalert"><code>getAlert()</code><a class="hash-link" href="#getalert" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_1ukp language-jsx theme-code-block"><div class="codeBlockContent_3Y8q jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token function" style="color:#79b6f2">getAlert</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>Gets the notification&#x27;s main message from the <code>aps</code> object</p><hr><h3 class="anchor anchorWithStickyNavbar_23Bc" id="getcontentavailable"><code>getContentAvailable()</code><a class="hash-link" href="#getcontentavailable" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_1ukp language-jsx theme-code-block"><div class="codeBlockContent_3Y8q jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token function" style="color:#79b6f2">getContentAvailable</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>Gets the content-available number from the <code>aps</code> object</p><hr><h3 class="anchor anchorWithStickyNavbar_23Bc" id="getbadgecount"><code>getBadgeCount()</code><a class="hash-link" href="#getbadgecount" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_1ukp language-jsx theme-code-block"><div class="codeBlockContent_3Y8q jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token function" style="color:#79b6f2">getBadgeCount</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>Gets the badge count number from the <code>aps</code> object</p><hr><h3 class="anchor anchorWithStickyNavbar_23Bc" id="getdata"><code>getData()</code><a class="hash-link" href="#getdata" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_1ukp language-jsx theme-code-block"><div class="codeBlockContent_3Y8q jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token function" style="color:#79b6f2">getData</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>Gets the data object on the notif</p><hr><h3 class="anchor anchorWithStickyNavbar_23Bc" id="getthreadid"><code>getThreadID()</code><a class="hash-link" href="#getthreadid" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_1ukp language-jsx theme-code-block"><div class="codeBlockContent_3Y8q jsx"><pre tabindex="0" class="prism-code language-jsx codeBlock_2Xgr thin-scrollbar" style="color:#FFFFFF;background:#282C34"><code class="codeBlockLines_3Zfi"><span class="token-line" style="color:#FFFFFF;background:#282C34"><span class="token function" style="color:#79b6f2">getThreadID</span><span class="token punctuation" style="color:#657b83">(</span><span class="token punctuation" style="color:#657b83">)</span><span class="token punctuation" style="color:#657b83">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1mju clean-btn">Copy</button></div></div><p>Gets the thread ID on the notification</p></div><footer class="docMetadata row docusaurus-mt-lg"><div class="col"><a href="https://github.com/reactnativecn/react-native-website/blob/production/cnwebsite/../cndocs/pushnotificationios.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_1CBY" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_1szQ"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_rbnR thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#methods" class="table-of-contents__link toc-highlight">Methods</a><ul><li><a href="#presentlocalnotification" class="table-of-contents__link toc-highlight"><code>presentLocalNotification()</code></a></li><li><a href="#schedulelocalnotification" class="table-of-contents__link toc-highlight"><code>scheduleLocalNotification()</code></a></li><li><a href="#cancelalllocalnotifications" class="table-of-contents__link toc-highlight"><code>cancelAllLocalNotifications()</code></a></li><li><a href="#removealldeliverednotifications" class="table-of-contents__link toc-highlight"><code>removeAllDeliveredNotifications()</code></a></li><li><a href="#getdeliverednotifications" class="table-of-contents__link toc-highlight"><code>getDeliveredNotifications()</code></a></li><li><a href="#removedeliverednotifications" class="table-of-contents__link toc-highlight"><code>removeDeliveredNotifications()</code></a></li><li><a href="#setapplicationiconbadgenumber" class="table-of-contents__link toc-highlight"><code>setApplicationIconBadgeNumber()</code></a></li><li><a href="#getapplicationiconbadgenumber" class="table-of-contents__link toc-highlight"><code>getApplicationIconBadgeNumber()</code></a></li><li><a href="#cancellocalnotifications" class="table-of-contents__link toc-highlight"><code>cancelLocalNotifications()</code></a></li><li><a href="#getscheduledlocalnotifications" class="table-of-contents__link toc-highlight"><code>getScheduledLocalNotifications()</code></a></li><li><a href="#addeventlistener" class="table-of-contents__link toc-highlight"><code>addEventListener()</code></a></li><li><a href="#removeeventlistener" class="table-of-contents__link toc-highlight"><code>removeEventListener()</code></a></li><li><a href="#requestpermissions" class="table-of-contents__link toc-highlight"><code>requestPermissions()</code></a></li><li><a href="#abandonpermissions" class="table-of-contents__link toc-highlight"><code>abandonPermissions()</code></a></li><li><a href="#checkpermissions" class="table-of-contents__link toc-highlight"><code>checkPermissions()</code></a></li><li><a href="#getinitialnotification" class="table-of-contents__link toc-highlight"><code>getInitialNotification()</code></a></li><li><a href="#constructor" class="table-of-contents__link toc-highlight"><code>constructor()</code></a></li><li><a href="#finish" class="table-of-contents__link toc-highlight"><code>finish()</code></a></li><li><a href="#getmessage" class="table-of-contents__link toc-highlight"><code>getMessage()</code></a></li><li><a href="#getsound" class="table-of-contents__link toc-highlight"><code>getSound()</code></a></li><li><a href="#getcategory" class="table-of-contents__link toc-highlight"><code>getCategory()</code></a></li><li><a href="#getalert" class="table-of-contents__link toc-highlight"><code>getAlert()</code></a></li><li><a href="#getcontentavailable" class="table-of-contents__link toc-highlight"><code>getContentAvailable()</code></a></li><li><a href="#getbadgecount" class="table-of-contents__link toc-highlight"><code>getBadgeCount()</code></a></li><li><a href="#getdata" class="table-of-contents__link toc-highlight"><code>getData()</code></a></li><li><a href="#getthreadid" class="table-of-contents__link toc-highlight"><code>getThreadID()</code></a></li></ul></li></ul><div class="wwads-cn wwads-vertical" data-id="58" style="max-width:200px;margin-top:20px"></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">React Native 中文网 © 2021 武汉青罗网络科技有限公司
      <a style="margin-left:10px" href="http://beian.miit.gov.cn/">鄂ICP备20002031号-3</a>
      <img style="width:25px" src="//img.alicdn.com/tfs/TB1..50QpXXXXX7XpXXXXXXXXXX-40-40.png" alt="鄂公网安备 42011202001821号">
      <a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=42011202001821">鄂公网安备 42011202001821号</a>
      </div></div></div></footer></div>
<script src="/assets/js/runtime~main.ae586b31.js"></script>
<script src="/assets/js/main.10ea0b78.js"></script>
</body>
</html>